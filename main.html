<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코드플로우</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     <link href="./mainstyle.css" rel="stylesheet">
    

    <script type="module">
        // Firebase SDK 라이브러리 가져오기
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


        // Firebase 구성 정보 설정

        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyCj76uSgaI6Qk9PoATOIms-ESIsFw2Y1XQ",
            authDomain: "sparta-f40c5.firebaseapp.com",
            projectId: "sparta-f40c5",
            storageBucket: "sparta-f40c5.appspot.com",
            messagingSenderId: "871912726509",
            appId: "1:871912726509:web:47554383bd5c408ab111e4",
            measurementId: "G-NQE61H9MZ0"
        };

        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        $("#cheerBtn").click(async function () {
            let who = $("#who").val();
            let emoji = $("#emoji").val();
            let comment = $("#comment").val();
            let doc = {
                'who': who,
                'emoji': emoji,
                'comment': comment
            };
            await addDoc(collection(db, "SAVE"), doc);
            alert('응원 남기기 성공!');
            window.location.reload();
        })
        let docs = await getDocs(collection(db, "SAVE"));
        docs.forEach((doc) => {

            let row = doc.data();
            let who = row['who'];
            let emoji = row['emoji'];
            let comment = row['comment'];

            let temp_html = `   
                 <div class="cheerbox">
                    <div class="col">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">${who}</h5>
                                <hr>
                                <p class="card-text">${emoji}</p>
                                <p class="card-text">${comment}</p>
                            </div>
                        </div>
                        </div>
                 </div>`;
            $('#cheercard').append(temp_html);


        })




    </script>
</head>

<body>
    <div class="title">
        <div class="onetwo">
            <nav class="uptitle">
                <a href="#teamint">🌼팀원 소개🌼</a>
                <a href="#one">🎉응원 한마디🎉</a>
            </nav>
        </div>
    </div>
    <div class="main_img">
        
    </div>
    <div class="team" id="teamint">
        <p>🌼팀원 소개🌼</p>
    </div>
    <div class="mycards">
        <div class="row row-cols-1 row-cols-md-5 g-4">
            <div class="col">
                <div class="card h-100">
                    <img src="./images/노현지.jpg"
                        class="card-img-top" alt="프로필 이미지">
                    <div class="card-body">
                        <h5 class="card-name">노현지</h5>

                    </div>
                    <div class="card-footer">
                        <button type="button" class="btn btn-dark" style="background-color: rgba(26, 18, 69, 1);"
                            id="movesub" onclick="location.href='subpage1.html'">Click!</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="./images/박한진.png"
                        class="card-img-top" alt="프로필 이미지">
                    <div class="card-body">
                        <h5 class="card-name">박한진</h5>

                    </div>
                    <div class="card-footer">
                        <button type="button" class="btn btn-dark" style="background-color: rgba(26, 18, 69, 1);"
                            id="movesub2" onclick="location.href='subpage2.html'">Click!</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="./images/최욱연.png"
                        class="card-img-top" alt="프로필 이미지">
                    <div class="card-body">
                        <h5 class="card-name">최욱연</h5>

                    </div>
                    <div class="card-footer">
                        <button type="button" class="btn btn-dark" style="background-color:rgba(26, 18, 69, 1);"
                            id="movesub3" onclick="location.href='subpage3.html'">Click!</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="./images/장민경.jpg"
                        class="card-img-top" alt="프로필 이미지">
                    <div class="card-body">
                        <h5 class="card-name">장민경</h5>

                    </div>
                    <div class="card-footer">
                        <button type="button" class="btn btn-dark" style="background-color:rgba(26, 18, 69, 1);"
                            id="movesub4" onclick="location.href='subpage4.html'">Click!</button>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100">
                    <img src="./images/최원.png"
                        class="card-img-top" alt="프로필 이미지">
                    <div class="card-body">
                        <h5 class="card-name">최원</h5>

                    </div>
                    <div class="card-footer">
                        <button type="button" class="btn btn-dark" style="background-color:rgba(26, 18, 69, 1);"
                            id="movesub5" onclick="location.href='subpage5.html'">Click!</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="allbox" id="one">
        <div class="text-ch">
            <h1 class="display-5 fw-bolder" style="color: rgb(255, 255, 255);">🎉응원 한마디🎉</h1>
        </div>
        <div class="postingbox">
            <div class="post-ch" id="input-card">
                <div class="post" id="input-card">
                    <div class="form-floating mb-3">
                        <input type="email" class="form-control" id="who" placeholder="name@example.com">
                        <label for="floatingInput">닉네임</label>
                    </div>

                    <div class="input-group mb-3">
                        <button class="btn btn-outline-secondary" type="button">응원이모지</button>
                        <select class="form-select" id="emoji" aria-label="Example select with button addon">
                            <option selected>이모지 선택</option>
                            <option value="👏">👏</option>
                            <option value="🎉">🎉</option>
                            <option value="🤳">🤳</option>
                            <option value="💖">💖</option>
                            <option value="✌">✌</option>
                            <option value="🤝">🤝</option>
                            <option value="🤓">🤓</option>
                            <option value="👍">👍</option>
                            <option value="😍">😍</option>
                        </select>
                    </div>
                    <div class="form-floating">
                        <textarea class="form-control" placeholder="Leave a comment here" id="comment"></textarea>
                        <label for="floatingTextarea">응원 한마디</label>
                    </div>
                    <div class="button2">
                        <button type="button" class="btn btn-danger" id="cheerBtn"> 응원남기기 </button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="cheerbox">
        <div id="cheercard" class="row row-cols-1 row-cols-md-3 g-4">

            <div class="col1">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">박한진</h5>
                        <hr>
                        <p class="card-text">😍</p>
                        <p class="card-text">우리팀 항상 화이팅합시다.</p>
                    </div>
                </div>
            </div>
            <div class="col2">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">최욱연</h5>
                        <hr>
                        <p class="card-text">👍</p>
                        <p class="card-text">열정 넘치는 우리팀!</p>
                    </div>
                </div>
            </div>
            <div class="col3">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">노현지</h5>
                        <hr>
                        <p class="card-text">👏</p>
                        <p class="card-text">같이 성장해요!!!!!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>



</body>

</html>